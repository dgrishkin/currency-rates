<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Урок AJAX</title>
    <script language="javascript">
        function getRates() {
            try {
                const xhr = new XMLHttpRequest;
                xhr.open("GET", "https://www.cbr-xml-daily.ru/daily_json.js");
                xhr.send();
                xhr.onreadystatechange = function () {
                    if (xhr.readyState != 4) return;

                    if (xhr.status == 200) {
                        const tableBody = document.getElementById("tableBody");
                        const rates = JSON.parse(xhr.responseText);
                        for (let idx in rates.Valute) {
                            const rate = rates.Valute[idx];
                            const row = document.createElement("tr");
                            row.innerHTML = `<tr><td>${rate.NumCode}</td><td>${rate.CharCode}</td><td>${rate.Name}</td><td>${rate.Value}</td></tr>`;
                            tableBody.appendChild(row);
                        }
                    }
                }
            } catch (e) {
                console.error(e);
            }
        }
    </script>
</head>
<body>
    <table border="1">
        <thead>
            <tr>
                <td width="50" align="center">
                    <b>Числовой код</b>
                </td>
                <td width="50" align="center">
                    <b>Символьный код</b>
                </td>
                <td align="center">
                    <b>Наименование</b>
                </td>
                <td align="center">
                    <b>Курс</b>
                </td>
            </tr>
        </thead>
        <tbody id="tableBody">
        </tbody>
    </table>
    <br />
    <form name="mainForm">
        <input type="button" value="Тест" onclick="getRates()" />
    </form>
</body>
</html>